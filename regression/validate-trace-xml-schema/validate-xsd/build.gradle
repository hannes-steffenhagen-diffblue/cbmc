plugins {
    id 'java'
}

group 'org.example'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    mavenCentral()
}

task uberJar(type: Jar) {
  archiveClassifier = 'uber'
  from sourceSets.main.output

  manifest {
    attributes('Main-Class': 'com.diffblue.validatexsd.Main')
  }

  dependsOn configurations.runtimeClasspath
  from {
    configurations.runtimeClasspath.findAll {
      it.name.endsWith('jar')
      }.collect { zipTree(it) }
  }
}

dependencies {
    implementation 'info.picocli:picocli:4.2.0'
    annotationProcessor 'info.picocli:picocli-codegen:4.2.0'
}
